[
  {
    "time": "2025-06-28T08:19:49.361Z",
    "user": "System",
    "action": "system_startup",
    "level": "info",
    "detail": "疲劳检测系统启动"
  },
  {
    "time": "2025-06-28T08:19:49.386Z",
    "user": "System",
    "action": "database_connection",
    "level": "warning",
    "detail": "数据库连接超时，正在重试",
    "error": "Connection timeout after 5000ms\n    at Database.connect (database.js:45:12)\n    at async connectToDatabase (app.js:23:5)",
    "stack": "Error: Connection timeout after 5000ms\n    at Database.connect (database.js:45:12)\n    at async connectToDatabase (app.js:23:5)\n    at Object.<anonymous> (C:\\Users\\abc\\Desktop\\front\\main.js:64:5)\n    at Module._compile (node:internal/modules/cjs/loader:1738:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1904:10)\n    at Module.load (node:internal/modules/cjs/loader:1472:32)\n    at Module._load (node:internal/modules/cjs/loader:1289:12)\n    at c._load (node:electron/js2c/node_init:2:17950)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:242:24)\n    at cjsLoader (node:internal/modules/esm/translators:270:5)\n    at ModuleWrap.<anonymous> (node:internal/modules/esm/translators:200:7)"
  },
  {
    "time": "2025-06-28T08:19:49.395Z",
    "user": "System",
    "action": "sensor_malfunction",
    "level": "error",
    "detail": "传感器设备离线",
    "error": "Device not responding on port COM3\n    at SerialPort.open (serialport.js:156:23)\n    at SensorManager.connect (sensor.js:78:15)\n    at DeviceController.initialize (device.js:34:8)",
    "stack": "Error: Device not responding on port COM3\n    at SerialPort.open (serialport.js:156:23)\n    at SensorManager.connect (sensor.js:78:15)\n    at DeviceController.initialize (device.js:34:8)\n    at Object.<anonymous> (C:\\Users\\abc\\Desktop\\front\\main.js:68:5)\n    at Module._compile (node:internal/modules/cjs/loader:1738:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1904:10)\n    at Module.load (node:internal/modules/cjs/loader:1472:32)\n    at Module._load (node:internal/modules/cjs/loader:1289:12)\n    at c._load (node:electron/js2c/node_init:2:17950)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:242:24)\n    at cjsLoader (node:internal/modules/esm/translators:270:5)\n    at ModuleWrap.<anonymous> (node:internal/modules/esm/translators:200:7)"
  },
  {
    "time": "2025-06-28T08:19:49.418Z",
    "user": "System",
    "action": "api_request_failed",
    "level": "error",
    "detail": "后端API调用失败",
    "error": "HTTP 500 Internal Server Error\n    at fetch (/api/users)\n    Response: {\"error\": \"Database query failed\", \"code\": \"DB_ERROR\"}",
    "stack": "Error: HTTP 500 Internal Server Error\n    at fetch (/api/users)\n    Response: {\"error\": \"Database query failed\", \"code\": \"DB_ERROR\"}\n    at Object.<anonymous> (C:\\Users\\abc\\Desktop\\front\\main.js:72:5)\n    at Module._compile (node:internal/modules/cjs/loader:1738:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1904:10)\n    at Module.load (node:internal/modules/cjs/loader:1472:32)\n    at Module._load (node:internal/modules/cjs/loader:1289:12)\n    at c._load (node:electron/js2c/node_init:2:17950)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:242:24)\n    at cjsLoader (node:internal/modules/esm/translators:270:5)\n    at ModuleWrap.<anonymous> (node:internal/modules/esm/translators:200:7)"
  },
  {
    "time": "2025-06-28T08:19:49.474Z",
    "user": "System",
    "action": "file_permission",
    "level": "warning",
    "detail": "日志文件写入权限不足",
    "error": "EACCES: permission denied, open '/var/log/fatigue.log'\n    at Object.openSync (fs.js:498:3)\n    at Object.writeFileSync (fs.js:1467:35)",
    "stack": "Error: EACCES: permission denied, open '/var/log/fatigue.log'\n    at Object.openSync (fs.js:498:3)\n    at Object.writeFileSync (fs.js:1467:35)\n    at Object.<anonymous> (C:\\Users\\abc\\Desktop\\front\\main.js:76:5)\n    at Module._compile (node:internal/modules/cjs/loader:1738:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1904:10)\n    at Module.load (node:internal/modules/cjs/loader:1472:32)\n    at Module._load (node:internal/modules/cjs/loader:1289:12)\n    at c._load (node:electron/js2c/node_init:2:17950)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:242:24)\n    at cjsLoader (node:internal/modules/esm/translators:270:5)\n    at ModuleWrap.<anonymous> (node:internal/modules/esm/translators:200:7)"
  },
  {
    "time": "2025-06-28T08:19:49.571Z",
    "user": "System",
    "action": "network_timeout",
    "level": "error",
    "detail": "网络请求超时",
    "error": "ETIMEDOUT: connect timeout\n    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1146:16)\n    Target: https://api.fatigue-detection.com/status",
    "stack": "Error: ETIMEDOUT: connect timeout\n    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1146:16)\n    Target: https://api.fatigue-detection.com/status\n    at Object.<anonymous> (C:\\Users\\abc\\Desktop\\front\\main.js:80:5)\n    at Module._compile (node:internal/modules/cjs/loader:1738:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1904:10)\n    at Module.load (node:internal/modules/cjs/loader:1472:32)\n    at Module._load (node:internal/modules/cjs/loader:1289:12)\n    at c._load (node:electron/js2c/node_init:2:17950)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:242:24)\n    at cjsLoader (node:internal/modules/esm/translators:270:5)\n    at ModuleWrap.<anonymous> (node:internal/modules/esm/translators:200:7)"
  },
  {
    "time": "2025-06-28T08:19:49.579Z",
    "user": "System",
    "action": "backup_completed",
    "level": "success",
    "detail": "数据备份完成，备份文件大小: 2.3MB"
  },
  {
    "time": "2025-06-28T08:19:55.702Z",
    "user": "11",
    "action": "login",
    "role": "admin",
    "level": "success"
  }
]